name = "hojyokin-cron"
main = "src/index.ts"
compatibility_date = "2026-01-21"
compatibility_flags = ["nodejs_compat"]

# Cron スケジュール (UTC)
# 0 18 * * * = 03:00 JST: フルパイプライン (registry/lifecycle + ready-boost)
# 0 20 * * * = 05:00 JST: Ready Boost のみ（追加実行）
[triggers]
crons = ["0 18 * * *", "0 20 * * *"]

[[d1_databases]]
binding = "DB"
database_name = "subsidy-matching-production"
database_id = "e53f6185-60a6-45eb-b06d-c710ab3aef56"

[vars]
ENVIRONMENT = "production"
CRON_REGISTRY_LIMIT = "200"
CRON_LIFECYCLE_LIMIT = "50"
