# Agencyæ©Ÿèƒ½ è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»å‡çµãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**ä½œæˆæ—¥**: 2026-01-23  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­  
**ç›®çš„**: Agencyæ©Ÿèƒ½ã®è¨­è¨ˆã‚’å›ºå®šã—ã€å®Ÿè£…å‰ã®å¥‘ç´„ã‚’æ˜ç¢ºåŒ–ã™ã‚‹

---

## 1. ç¾çŠ¶ã®DBã‚¹ã‚­ãƒ¼ãƒï¼ˆå®Ÿæ…‹ï¼‰

### 1.1 ãƒ­ãƒ¼ãƒ«é–¢é€£

#### users ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, email, password_hash, name, role, email_verified_at, ...
```
- **role ã®å–ã‚Šã†ã‚‹å€¤**: `user`, `agency`, `admin`, `super_admin`

âš ï¸ **å•é¡Œç‚¹**: `agency` ãƒ­ãƒ¼ãƒ«ã¯å˜ä¸€ã ãŒã€äº‹å‹™æ‰€å†…ã§ã®å½¹å‰²ï¼ˆowner/admin/staffï¼‰ã¯ `agency_members.role_in_agency` ã§ç®¡ç†ã•ã‚Œã‚‹äºŒé‡æ§‹é€ 

### 1.2 Agencyï¼ˆäº‹å‹™æ‰€ï¼‰é–¢é€£

#### agencies ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, name, owner_user_id, plan, max_clients, settings_json, created_at, updated_at
```

#### agency_members ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, agency_id, user_id, role_in_agency, permissions_json, invited_at, accepted_at, created_at
```
- **role_in_agency**: `owner`, `admin`, `staff`

#### agency_member_invites ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, agency_id, email, role_in_agency, invite_token_hash, invite_code, 
invited_by_user_id, expires_at, accepted_at, accepted_by_user_id, 
revoked_at, revoked_by_user_id, created_at
```

### 1.3 é¡§å®¢ä¼æ¥­é–¢é€£

#### agency_clients ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, agency_id, company_id, client_name, client_email, client_phone, 
status, notes, tags_json, created_at, updated_at
```
- **status**: `active`, `paused`, `archived`ï¼ˆæƒ³å®šï¼‰

#### companies ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, name, postal_code, prefecture, city, industry_major, industry_minor, 
employee_count, employee_band, capital, established_date, annual_revenue, 
created_at, updated_at
```

#### company_profile ãƒ†ãƒ¼ãƒ–ãƒ«
```
company_id (PK), corp_number, corp_type, representative_name, representative_title,
founding_year, founding_month, website_url, contact_email, contact_phone,
business_summary, main_products, main_customers, competitive_advantage,
fiscal_year_end, is_profitable, has_debt, past_subsidies_json, 
desired_investments_json, current_challenges_json, has_young_employees,
has_female_executives, has_senior_employees, plans_to_hire,
certifications_json, constraints_json, notes, updated_at, created_at
```

âš ï¸ **é‡è¦**: `company_profile` ã®PKã¯ `company_id` ã§ã‚ã‚Šã€`id` ã‚«ãƒ©ãƒ ã¯å­˜åœ¨ã—ãªã„

### 1.4 ãƒªãƒ³ã‚¯ãƒ»å—ä»˜é–¢é€£

#### access_links ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, agency_id, company_id, session_id, type, token_hash, short_code,
expires_at, max_uses, used_count, revoked_at, issued_by_user_id,
last_used_at, last_used_ip, last_used_ua, label, message, created_at
```
- **type**: `intake`, `chat`, `upload`

#### intake_submissions ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, access_link_id, agency_id, company_id, payload_json, documents_json,
status, reviewed_at, reviewed_by_user_id, review_notes, 
submitted_ip, submitted_ua, created_at, updated_at
```
- **status**: `submitted`, `approved`, `rejected`

### 1.5 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ä¼æ¥­ç´ä»˜ã‘ï¼ˆé‡è¤‡ãƒ†ãƒ¼ãƒ–ãƒ«å•é¡Œï¼‰

âš ï¸ **å•é¡Œ**: 2ã¤ã®é¡ä¼¼ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨

#### company_memberships ãƒ†ãƒ¼ãƒ–ãƒ«
```
id, user_id, company_id, role, created_at
```

#### user_companies ãƒ†ãƒ¼ãƒ–ãƒ«
```
user_id, company_id, role, is_primary, joined_at
```

**â†’ ã©ã¡ã‚‰ã‚’æ­£ã¨ã™ã‚‹ã‹æ±ºå®šãŒå¿…è¦**

---

## 2. ãƒ­ãƒ¼ãƒ«ãƒ»æ¨©é™å®šç¾©ï¼ˆç¢ºå®šæ¡ˆï¼‰

### 2.1 ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ«ï¼ˆusers.roleï¼‰

| ãƒ­ãƒ¼ãƒ« | èª¬æ˜ | å¯èƒ½ãªæ“ä½œ |
|--------|------|-----------|
| `user` | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è‡ªç¤¾ã®è£œåŠ©é‡‘æ¤œç´¢ãƒ»ç”³è«‹ç®¡ç† |
| `agency` | å£«æ¥­äº‹å‹™æ‰€ãƒ¡ãƒ³ãƒãƒ¼ | é¡§å®¢ç®¡ç†ãƒ»ä»£ç†æ¤œç´¢ãƒ»ç”³è«‹æ”¯æ´ |
| `admin` | ç®¡ç†è€… | ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† |
| `super_admin` | ã‚¹ãƒ¼ãƒ‘ãƒ¼ç®¡ç†è€… | å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹ |

### 2.2 äº‹å‹™æ‰€å†…ãƒ­ãƒ¼ãƒ«ï¼ˆagency_members.role_in_agencyï¼‰

| ãƒ­ãƒ¼ãƒ« | èª¬æ˜ | æ¨©é™ |
|--------|------|------|
| `owner` | äº‹å‹™æ‰€ã‚ªãƒ¼ãƒŠãƒ¼ | å…¨æ¨©é™ï¼ˆå‰Šé™¤ãƒ»ãƒ—ãƒ©ãƒ³å¤‰æ›´å«ã‚€ï¼‰ |
| `admin` | ç®¡ç†è€… | ã‚¹ã‚¿ãƒƒãƒ•æ‹›å¾…ãƒ»é¡§å®¢ç®¡ç†ãƒ»è¨­å®šå¤‰æ›´ |
| `staff` | ã‚¹ã‚¿ãƒƒãƒ• | é¡§å®¢é–²è¦§ãƒ»æ¤œç´¢ãƒ»ãƒ‰ãƒ©ãƒ•ãƒˆä½œæˆ |

### 2.3 ã‚¢ã‚¯ã‚»ã‚¹å¢ƒç•Œãƒ«ãƒ¼ãƒ«

1. **äº‹å‹™æ‰€åˆ†é›¢**: å„äº‹å‹™æ‰€ã®ãƒ‡ãƒ¼ã‚¿ã¯å®Œå…¨ã«åˆ†é›¢
2. **ã‚¹ã‚¿ãƒƒãƒ•åˆ¶é™**: staff ã¯è‡ªäº‹å‹™æ‰€ã®é¡§å®¢ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
3. **ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ†é›¢**: agency ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢ã«é·ç§»ã—ãªã„

---

## 3. Agencyè²¬å‹™å®šç¾©ï¼ˆç¢ºå®šæ¡ˆï¼‰

### 3.1 AgencyãŒã€Œã‚„ã‚‹ã“ã¨ã€

| æ©Ÿèƒ½ | èª¬æ˜ | å®Ÿè£…ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|------|------|---------------|
| é¡§å®¢ä¼æ¥­ç®¡ç† | é¡§å®¢ä¼æ¥­ã®ç™»éŒ²ãƒ»ç·¨é›†ãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– | âœ… å®Ÿè£…æ¸ˆã¿ |
| ãƒªãƒ³ã‚¯ç™ºè¡Œ | å…¥åŠ›ç”¨ãƒªãƒ³ã‚¯ã‚’é¡§å®¢ã«ç™ºè¡Œ | âœ… å®Ÿè£…æ¸ˆã¿ |
| å—ä»˜ç®¡ç† | é¡§å®¢ã‹ã‚‰ã®å…¥åŠ›ã‚’æ‰¿èªãƒ»å´ä¸‹ | âœ… å®Ÿè£…æ¸ˆã¿ |
| ä»£ç†æ¤œç´¢ | é¡§å®¢è¦–ç‚¹ã§ã®è£œåŠ©é‡‘æ¤œç´¢ | âš ï¸ å°ç·šæ··ç·š |
| ç”³è«‹ãƒ‰ãƒ©ãƒ•ãƒˆ | ç”³è«‹æ›¸é¡ã®ãƒ‰ãƒ©ãƒ•ãƒˆä½œæˆ | âš ï¸ éƒ¨åˆ†å®Ÿè£… |
| ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç† | ã‚¹ã‚¿ãƒƒãƒ•ã®æ‹›å¾…ãƒ»æ¨©é™ç®¡ç† | âœ… å®Ÿè£…æ¸ˆã¿ |

### 3.2 AgencyãŒã€Œã‚„ã‚‰ãªã„ã“ã¨ã€

- âŒ è‡ªåˆ†è‡ªèº«ãŒç”³è«‹ä¸»ä½“ã«ãªã‚‹
- âŒ ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é·ç§»ã™ã‚‹
- âŒ è£œåŠ©é‡‘ã®ã€Œç›´æ¥ç”³è«‹ã€ç”»é¢ã‚’æŒã¤
- âŒ ä»–äº‹å‹™æ‰€ã®ãƒ‡ãƒ¼ã‚¿ã‚’é–²è¦§ã™ã‚‹

---

## 4. çŠ¶æ…‹é·ç§»å›³

### 4.1 é¡§å®¢ä¼æ¥­ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```
[ãƒªãƒ³ã‚¯ç™ºè¡Œ] â†’ [å…¥åŠ›å¾…ã¡] â†’ [å—ä»˜(submitted)] â†’ [æ‰¿èª(approved)] â†’ [ã‚¢ã‚¯ãƒ†ã‚£ãƒ–(active)]
                                              â†“
                                         [å´ä¸‹(rejected)]
                                              â†“
[ã‚¢ã‚¯ãƒ†ã‚£ãƒ–(active)] â†â†â†â†â†â†â†â†â†â†â†â†â†â†â† [å†å…¥åŠ›ä¾é ¼]

[ã‚¢ã‚¯ãƒ†ã‚£ãƒ–(active)] â†’ [ä¸€æ™‚åœæ­¢(paused)] â†’ [ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–(archived)]
```

### 4.2 ã‚¹ã‚¿ãƒƒãƒ•æ‹›å¾…ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```
[æ‹›å¾…ç™ºè¡Œ] â†’ [ãƒ¡ãƒ¼ãƒ«é€ä¿¡(ä»»æ„)] â†’ [æœŸé™å†…] â†’ [å—è«¾] â†’ [ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²] â†’ [æ‹›å¾…ç„¡åŠ¹åŒ–]
                                    â†“
                               [æœŸé™åˆ‡ã‚Œ]
                                    â†“
[æ‹›å¾…ç™ºè¡Œ] â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â† [å†æ‹›å¾…]

[æ‹›å¾…ç™ºè¡Œ] â†’ [æ‰‹å‹•å–æ¶ˆ(revoked)]
```

### 4.3 ã‚¢ã‚¯ã‚»ã‚¹ãƒªãƒ³ã‚¯ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```
[ç™ºè¡Œ(issued)] â†’ [ä½¿ç”¨(used)] â†’ [ä½¿ç”¨å›æ•°ä¸Šé™] â†’ [ç„¡åŠ¹]
       â†“              â†“
    [æœŸé™åˆ‡ã‚Œ]     [æ‰‹å‹•å–æ¶ˆ]
       â†“              â†“
     [ç„¡åŠ¹]        [ç„¡åŠ¹]
```

**é‡è¦ãƒ«ãƒ¼ãƒ«**: 
- å—ä»˜ãŒæ‰¿èªã•ã‚ŒãŸã‚‰ã€ãã®ãƒªãƒ³ã‚¯ã¯è‡ªå‹•çš„ã«ä½¿ç”¨æ¸ˆã¿ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆ
- 1ã¤ã®é¡§å®¢ã«å¯¾ã—ã¦è¤‡æ•°ãƒªãƒ³ã‚¯ã‚’ç™ºè¡Œå¯èƒ½ã ãŒã€æ‰¿èªå¾Œã¯æ–°è¦ãƒªãƒ³ã‚¯ãŒå¿…è¦

---

## 5. ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œç‚¹ã¨å¯¾å¿œæ–¹é‡

### 5.1 è‡´å‘½çš„ãªå•é¡Œ

| # | å•é¡Œ | å½±éŸ¿ | å¯¾å¿œæ–¹é‡ |
|---|------|------|----------|
| 1 | `company_profile` ã« `id` ã‚«ãƒ©ãƒ ãŒãªã„ | UPDATEã§500ã‚¨ãƒ©ãƒ¼ | âœ… `company_id` ã‚’PKã¨ã—ã¦ä½¿ç”¨ |
| 2 | `company_memberships` ã¨ `user_companies` ã®é‡è¤‡ | ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆãƒªã‚¹ã‚¯ | ğŸ”¶ `user_companies` ã‚’æ­£ã¨ã—ã¦çµ±ä¸€ |
| 3 | Agency/User ã®å°ç·šæ··ç·š | UXå´©å£Š | ğŸ”¶ `/agency/search` ã‚’æ–°è¨­ |

### 5.2 é‡è¦ãªå•é¡Œ

| # | å•é¡Œ | å½±éŸ¿ | å¯¾å¿œæ–¹é‡ |
|---|------|------|----------|
| 4 | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æŒ‡æ¨™ãŒå˜˜ | ä¿¡é ¼æ€§ä½ä¸‹ | ğŸ”¶ `usage_events` é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£ |
| 5 | æ‹›å¾…ãƒ¡ãƒ¼ãƒ«ãŒé€ä¿¡ã•ã‚Œãªã„ | æ©Ÿèƒ½ä¸å…¨ | ğŸ”¶ SendGridé€£æºãƒ‡ãƒãƒƒã‚° |
| 6 | å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³ | ãƒ‡ãƒ¼ã‚¿ç ´å£Šãƒªã‚¹ã‚¯ | ğŸ”· Zodå°å…¥æ¤œè¨ |

### 5.3 æ”¹å–„ã™ã¹ãå•é¡Œ

| # | å•é¡Œ | å½±éŸ¿ | å¯¾å¿œæ–¹é‡ |
|---|------|------|----------|
| 7 | Tailwind CDNä½¿ç”¨ | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | ğŸ”· æœ¬ç•ªãƒ“ãƒ«ãƒ‰æ™‚ã«æœ€é©åŒ– |
| 8 | ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å¿…è¦æ€§ | UXä¸æ˜ç¢º | ğŸ”· ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ’ã‚¢ãƒªãƒ³ã‚°å¾Œæ±ºå®š |

---

## 6. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆGo/No-Goåˆ¤å®šç”¨ï¼‰

### 6.1 å‰ææ¡ä»¶
- [x] DBã‚¹ã‚­ãƒ¼ãƒã®å®Ÿæ…‹ã‚’æŠŠæ¡ã—ãŸ
- [ ] `company_memberships` vs `user_companies` ã®æ­£ã‚’æ±ºå®š
- [ ] Agency/User ã®å°ç·šåˆ†é›¢æ–¹é‡ã‚’æ±ºå®š

### 6.2 ãƒ­ãƒ¼ãƒ«ãƒ»æ¨©é™
- [x] ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼ˆuser, agency, admin, super_adminï¼‰
- [x] äº‹å‹™æ‰€å†…ãƒ­ãƒ¼ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼ˆowner, admin, staffï¼‰
- [ ] æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ãŒ1ãƒ•ã‚¡ã‚¤ãƒ«ã«é›†ç´„ã•ã‚Œã¦ã„ã‚‹

### 6.3 Agencyè²¬å‹™
- [x] è²¬å‹™ä¸€è¦§ãŒæ˜æ–‡åŒ–ã•ã‚Œã¦ã„ã‚‹
- [ ] ã€Œã‚„ã‚‰ãªã„ã“ã¨ã€ãŒã‚³ãƒ¼ãƒ‰ã§åˆ¶é™ã•ã‚Œã¦ã„ã‚‹

### 6.4 çŠ¶æ…‹é·ç§»
- [x] é¡§å®¢ä¼æ¥­ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [x] ã‚¹ã‚¿ãƒƒãƒ•æ‹›å¾…ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [x] ã‚¢ã‚¯ã‚»ã‚¹ãƒªãƒ³ã‚¯ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [ ] çŠ¶æ…‹é·ç§»ãŒã‚³ãƒ¼ãƒ‰ã§å¼·åˆ¶ã•ã‚Œã¦ã„ã‚‹

### 6.5 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- [ ] SendGrid APIã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿
- [ ] æ‹›å¾…ãƒªãƒ³ã‚¯ã®æœ‰åŠ¹æœŸé™ãŒ7æ—¥ä»¥å†…ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] å—è«¾å¾Œã®ãƒªãƒ³ã‚¯ç„¡åŠ¹åŒ–ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹

---

## 7. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå„ªå…ˆé †ï¼‰

1. **è¨­è¨ˆç¢ºå®š**
   - [ ] `company_memberships` vs `user_companies` ã®æ±ºå®š
   - [ ] Agencyå°ç·šåˆ†é›¢ã®è©³ç´°è¨­è¨ˆ

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾å¿œ**
   - [ ] SendGrid APIã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
   - [ ] æ‹›å¾…ãƒ»ãƒªãƒ³ã‚¯ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ä¿®æ­£

3. **ãƒã‚°ä¿®æ­£**
   - [ ] `company_profile` æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£
   - [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æŒ‡æ¨™ã®ä¿®æ­£

4. **æ©Ÿèƒ½æ”¹å–„**
   - [ ] `/agency/search` æ–°è¨­
   - [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–

---

## 8. ç¢ºèªäº‹é …ï¼ˆãƒ¢ã‚®ãƒ¢ã‚®ã•ã‚“ã¸ï¼‰

ä»¥ä¸‹ã®æ±ºå®šãŒå¿…è¦ã§ã™ï¼š

### Q1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ä¼æ¥­ç´ä»˜ã‘ãƒ†ãƒ¼ãƒ–ãƒ«
`company_memberships` ã¨ `user_companies` ã®2ã¤ãŒå­˜åœ¨ã—ã¾ã™ã€‚  
**ã©ã¡ã‚‰ã‚’æ­£ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã‹ï¼Ÿ**

æ¨å¥¨: `user_companies`ï¼ˆ`is_primary` ã‚«ãƒ©ãƒ ãŒã‚ã‚‹ãŸã‚ï¼‰

### Q2: Agencyå°ç·šã®åˆ†é›¢
ç¾åœ¨ã€è£œåŠ©é‡‘æ¤œç´¢ã¯ `/subsidies` ã§å…±é€šã§ã™ã€‚  
**å£«æ¥­å°‚ç”¨ã® `/agency/search` ã‚’æ–°è¨­ã—ã¾ã™ã‹ï¼Ÿ**

æ¨å¥¨: Yesï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»çŠ¶æ…‹ç®¡ç†ã®åˆ†é›¢ã®ãŸã‚ï¼‰

### Q3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
ã€Œé¡§å®¢ã‚’è¿½åŠ ã€ã€Œè£œåŠ©é‡‘ã‚’æ¤œç´¢ã€ã€Œãƒªãƒ³ã‚¯ã‚’ç™ºè¡Œã€ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ

### Q4: æ‹›å¾…ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã®å„ªå…ˆåº¦
SendGridé€£æºãŒå‹•ã„ã¦ã„ã¾ã›ã‚“ã€‚  
**å³åº§ã«ä¿®æ­£ãŒå¿…è¦ã§ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚æ‰‹å‹•æ‹›å¾…ï¼ˆãƒªãƒ³ã‚¯ã‚³ãƒ”ãƒ¼ï¼‰ã§é‹ç”¨å¯èƒ½ã§ã™ã‹ï¼Ÿ**

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªå¾Œã€ä¸Šè¨˜Q1-Q4ã«ã”å›ç­”ã„ãŸã ã‘ã‚Œã°ã€å®Ÿè£…ã«é€²ã‚ã¾ã™ã€‚**
