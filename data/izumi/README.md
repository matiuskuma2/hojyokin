# æƒ…å ±ã®æ³‰ è£œåŠ©é‡‘ãƒ‡ãƒ¼ã‚¿

## æ¦‚è¦
ã€Œæƒ…å ±ã®æ³‰ã€ã‹ã‚‰å–å¾—ã—ãŸè£œåŠ©é‡‘ãƒ»åŠ©æˆé‡‘ã®ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚
å°†æ¥çš„ã«ã“ã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’`subsidy_cache`ã«æ ¼ç´ã—ã€è£œåŠ©é‡‘ãƒãƒƒãƒãƒ³ã‚°ã«æ´»ç”¨ã—ã¾ã™ã€‚

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
data/izumi/
â”œâ”€â”€ README.md                        # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ izumi_support_urls_*.csv         # URLãƒªã‚¹ãƒˆï¼ˆç´„17,000ä»¶ï¼‰
â””â”€â”€ details/                         # è©³ç´°æƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«
    â””â”€â”€ izumi_detail_200.csv         # è©³ç´°å–å¾—æ¸ˆã¿ï¼ˆ199ä»¶ï¼‰
```

## ãƒ‡ãƒ¼ã‚¿ã®ç´ä»˜ã‘æ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  izumi_support_urls_*.csv (ç´„17,000ä»¶)                      â”‚
â”‚  â”œâ”€ policy_id: æƒ…å ±ã®æ³‰ã§ã®è£œåŠ©é‡‘IDï¼ˆä¸€æ„ã‚­ãƒ¼ï¼‰              â”‚
â”‚  â”œâ”€ primary_url: ä¸»è¦ãªæƒ…å ±æºURL                            â”‚
â”‚  â””â”€ all_urls: é–¢é€£URLä¸€è¦§                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ policy_id ã§ç´ä»˜ã‘
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  details/izumi_detail_200.csv (199ä»¶)                       â”‚
â”‚  â”œâ”€ policy_id: ç´ä»˜ã‘ã‚­ãƒ¼                                   â”‚
â”‚  â”œâ”€ title: è£œåŠ©é‡‘ã‚¿ã‚¤ãƒˆãƒ«                                   â”‚
â”‚  â”œâ”€ max_amount: è£œåŠ©ä¸Šé™é¡                                  â”‚
â”‚  â”œâ”€ difficulty: é›£æ˜“åº¦ï¼ˆâ˜…5æ®µéšè©•ä¾¡ï¼‰                       â”‚
â”‚  â””â”€ support_urls_all: ç”³è«‹é–¢é€£URL                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ discovery_items / subsidy_cache ã¸æ˜‡æ ¼
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  D1 Database                                                â”‚
â”‚  â”œâ”€ discovery_items: ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ï¼ˆæ¤œè¨¼å‰ï¼‰                 â”‚
â”‚  â””â”€ subsidy_cache: æœ¬ç•ªï¼ˆãƒãƒƒãƒãƒ³ã‚°å¯¾è±¡ï¼‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. URLãƒªã‚¹ãƒˆï¼ˆizumi_support_urls_*.csvï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ«å | ãƒ¬ã‚³ãƒ¼ãƒ‰æ•° | policy_idç¯„å›² | ã‚µã‚¤ã‚º |
|-----------|-----------|---------------|--------|
| izumi_support_urls_500.csv | 499ä»¶ | 56 ~ 12,459 | 127KB |
| izumi_support_urls_1000.csv | 499ä»¶ | 12,460 ~ 19,860 | 110KB |
| izumi_support_urls_2000.csv | 499ä»¶ | 19,861 ~ 28,599 | 108KB |
| izumi_support_urls_2500.csv | 499ä»¶ | 28,600 ~ 36,471 | 115KB |
| izumi_support_urls_3000.csv | 499ä»¶ | 36,472 ~ 41,790 | 94KB |
| izumi_support_urls_3500.csv | 499ä»¶ | 41,791 ~ 46,600 | 105KB |
| izumi_support_urls_4000.csv | 499ä»¶ | 46,601 ~ 50,347 | 100KB |
| izumi_support_urls_4500.csv | 499ä»¶ | 50,348 ~ 53,857 | 105KB |
| izumi_support_urls_5000.csv | 499ä»¶ | 53,858 ~ 56,188 | 97KB |
| izumi_support_urls_5500.csv | 499ä»¶ | 56,189 ~ 58,919 | 105KB |
| izumi_support_urls_6000.csv | 499ä»¶ | 58,920 ~ 61,710 | 100KB |
| izumi_support_urls_6500.csv | 499ä»¶ | 61,711 ~ 65,305 | 95KB |
| izumi_support_urls_7000.csv | 499ä»¶ | 65,306 ~ 69,338 | 86KB |
| izumi_support_urls_7500.csv | 499ä»¶ | 69,339 ~ 73,491 | 85KB |
| izumi_support_urls_8000.csv | 499ä»¶ | 73,492 ~ 77,132 | 89KB |
| izumi_support_urls_8500.csv | 499ä»¶ | 77,133 ~ 80,170 | 88KB |
| izumi_support_urls_9000.csv | 499ä»¶ | 80,171 ~ 82,344 | 93KB |
| izumi_support_urls_9500.csv | 499ä»¶ | 82,345 ~ 84,186 | 87KB |
| izumi_support_urls_10000.csv | 499ä»¶ | 84,187 ~ 85,487 | 86KB |
| izumi_support_urls_10500.csv | 499ä»¶ | 85,488 ~ 86,526 | 91KB |
| izumi_support_urls_11000.csv | 499ä»¶ | 86,527 ~ 87,824 | 93KB |
| izumi_support_urls_11500.csv | 499ä»¶ | 87,825 ~ 89,941 | 90KB |
| izumi_support_urls_12000.csv | 499ä»¶ | 89,942 ~ 92,084 | 97KB |
| izumi_support_urls_12500.csv | 499ä»¶ | 92,085 ~ 93,478 | 96KB |
| izumi_support_urls_13000.csv | 499ä»¶ | 93,479 ~ 95,325 | 101KB |
| izumi_support_urls_13500.csv | 499ä»¶ | 95,326 ~ 97,312 | 114KB |
| izumi_support_urls_14000.csv | 499ä»¶ | 97,313 ~ 99,427 | 111KB |
| izumi_support_urls_14500.csv | 499ä»¶ | 99,428 ~ 102,574 | 110KB |
| izumi_support_urls_15000.csv | 499ä»¶ | 102,575 ~ 105,852 | 95KB |
| izumi_support_urls_15500.csv | 499ä»¶ | 105,853 ~ 107,790 | 109KB |
| izumi_support_urls_16000.csv | 499ä»¶ | 107,791 ~ 109,653 | 105KB |
| izumi_support_urls_16500.csv | 499ä»¶ | 109,654 ~ 111,318 | 101KB |
| izumi_support_urls_17000.csv | 499ä»¶ | 111,319 ~ 113,529 | 99KB |
| izumi_support_urls_18000.csv | 499ä»¶ | 113,530 ~ 116,297 | 100KB |
| izumi_support_urls_18066.csv | 66ä»¶ | 116,298 ~ 116,453 | 16KB |

**åˆè¨ˆ: ç´„17,032ä»¶ã®è£œåŠ©é‡‘URLï¼ˆæœ€çµ‚ï¼‰**

### ãƒ‡ãƒ¼ã‚¿å½¢å¼

```csv
policy_id,primary_url,all_urls
"56","https://example.com/doc.pdf","https://example.com/page.html | https://example.com/doc.pdf"
```

| ã‚«ãƒ©ãƒ  | èª¬æ˜ |
|--------|------|
| `policy_id` | æƒ…å ±ã®æ³‰ã§ã®è£œåŠ©é‡‘IDï¼ˆä¸€æ„ã‚­ãƒ¼ï¼‰ |
| `primary_url` | ä¸»è¦ãªæƒ…å ±æºURLï¼ˆPDFã¾ãŸã¯HTMLï¼‰ |
| `all_urls` | é–¢é€£ã™ã‚‹å…¨ã¦ã®URLï¼ˆ`|`åŒºåˆ‡ã‚Šï¼‰ |

### URLã®ç¨®é¡

- **PDF**: è£œåŠ©é‡‘ã®è©³ç´°è³‡æ–™ã€ç”³è«‹æ›¸é¡ãªã©
- **HTML**: è‡ªæ²»ä½“ã®è£œåŠ©é‡‘æ¡ˆå†…ãƒšãƒ¼ã‚¸

---

## 2. è©³ç´°æƒ…å ±ï¼ˆdetails/izumi_detail_200.csvï¼‰

### æ¦‚è¦
æƒ…å ±ã®æ³‰ã®è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰å–å¾—ã—ãŸè£œåŠ©é‡‘ãƒ‡ãƒ¼ã‚¿ã€‚
`policy_id`ã§ä¸Šè¨˜ã®URLãƒªã‚¹ãƒˆã¨ç´ä»˜ã‘å¯èƒ½ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ«å | ãƒ¬ã‚³ãƒ¼ãƒ‰æ•° | policy_idç¯„å›² | ã‚µã‚¤ã‚º |
|-----------|-----------|---------------|--------|
| izumi_detail_200.csv | 199ä»¶ | 28 ~ 3,699 | 87KB |
| izumi_detail_400.csv | 199ä»¶ | 3,700 ~ 10,081 | 83KB |
| izumi_detail_600.csv | 199ä»¶ | 10,095 ~ 14,449 | 81KB |
| izumi_detail_800.csv | 199ä»¶ | 14,488 ~ 17,941 | 76KB |
| izumi_detail_1000.csv | 199ä»¶ | 19,865 ~ 22,954 | 80KB |
| izumi_detail_1400.csv | 199ä»¶ | 22,958 ~ 24,532 | 79KB |
| izumi_detail_1600.csv | 199ä»¶ | 24,534 ~ 26,065 | 77KB |
| izumi_detail_1800.csv | 199ä»¶ | 26,078 ~ 27,752 | 80KB |
| izumi_detail_2000.csv | 199ä»¶ | 27,754 ~ 28,597 | 77KB |
| izumi_detail_2200.csv | 199ä»¶ | 28,599 ~ 31,818 | 80KB |
| izumi_detail_2400.csv | 199ä»¶ | 31,825 ~ 34,813 | 83KB |
| izumi_detail_2600.csv | 199ä»¶ | 34,823 ~ 37,968 | 73KB |
| izumi_detail_2800.csv | 199ä»¶ | 37,975 ~ 39,925 | 70KB |
| izumi_detail_3000.csv | 199ä»¶ | 39,927 ~ 41,790 | 73KB |
| izumi_detail_3200.csv | 199ä»¶ | 41,801 ~ 43,686 | 76KB |
| izumi_detail_3400.csv | 199ä»¶ | 43,688 ~ 45,650 | 74KB |
| izumi_detail_3600.csv | 199ä»¶ | 45,652 ~ 47,451 | 73KB |
| izumi_detail_3800.csv | 199ä»¶ | 47,453 ~ 48,768 | 73KB |
| izumi_detail_4000.csv | 199ä»¶ | 48,801 ~ 50,347 | 71KB |
| izumi_detail_4200.csv | 199ä»¶ | 50,368 ~ 52,063 | 78KB |
| izumi_detail_4400.csv | 199ä»¶ | 52,066 ~ 53,306 | 76KB |
| izumi_detail_4600.csv | 199ä»¶ | 53,325 ~ 54,280 | 70KB |
| izumi_detail_4800.csv | 199ä»¶ | 54,281 ~ 55,309 | 72KB |
| izumi_detail_5000.csv | 199ä»¶ | 55,310 ~ 56,188 | 72KB |
| izumi_detail_5200.csv | 199ä»¶ | 56,195 ~ 57,253 | 74KB |

**åˆè¨ˆ: 4,975ä»¶ã®è©³ç´°ãƒ‡ãƒ¼ã‚¿ï¼ˆç¶™ç¶šå–å¾—ä¸­ï¼‰**

### ãƒ‡ãƒ¼ã‚¿å½¢å¼

```csv
policy_id,detail_url,title,issuer,area,publish_date,period,max_amount,difficulty,start_fee,success_fee,support_url,support_urls_all,error
"28","https://j-izumi.com/policy/28/detail","å°è¦æ¨¡äº‹æ¥­è€…çµŒå–¶æ”¹å–„è³‡é‡‘ç­‰åˆ©å­è£œçµ¦åˆ¶åº¦","","","","","","â˜…â˜†â˜†â˜†â˜†","è¦ç›¸è«‡","è¦ç›¸è«‡","https://...","https://...",""
```

### ã‚«ãƒ©ãƒ å®šç¾©

| ã‚«ãƒ©ãƒ  | èª¬æ˜ | ä¾‹ |
|--------|------|-----|
| `policy_id` | ç´ä»˜ã‘ã‚­ãƒ¼ï¼ˆæƒ…å ±ã®æ³‰IDï¼‰ | `28` |
| `detail_url` | æƒ…å ±ã®æ³‰è©³ç´°ãƒšãƒ¼ã‚¸ | `https://j-izumi.com/policy/28/detail` |
| `title` | è£œåŠ©é‡‘ã‚¿ã‚¤ãƒˆãƒ« | `å°è¦æ¨¡äº‹æ¥­è€…çµŒå–¶æ”¹å–„è³‡é‡‘ç­‰åˆ©å­è£œçµ¦åˆ¶åº¦` |
| `issuer` | å®Ÿæ–½æ©Ÿé–¢ | ï¼ˆç©ºã®å ´åˆã‚ã‚Šï¼‰ |
| `area` | å¯¾è±¡åœ°åŸŸ | ï¼ˆç©ºã®å ´åˆã‚ã‚Šï¼‰ |
| `publish_date` | å…¬é–‹æ—¥ | ï¼ˆç©ºã®å ´åˆã‚ã‚Šï¼‰ |
| `period` | ç”³è«‹æœŸé–“ | ï¼ˆç©ºã®å ´åˆã‚ã‚Šï¼‰ |
| `max_amount` | è£œåŠ©ä¸Šé™é¡ | `30ä¸‡å††`, `10å„„å††` |
| `difficulty` | é›£æ˜“åº¦ï¼ˆ5æ®µéšï¼‰ | `â˜…â˜†â˜†â˜†â˜†` ~ `â˜…â˜…â˜…â˜…â˜…` |
| `start_fee` | ç€æ‰‹é‡‘ | `è¦ç›¸è«‡` |
| `success_fee` | æˆåŠŸå ±é…¬ | `è¦ç›¸è«‡` |
| `support_url` | ä¸»è¦ç”³è«‹URL | PDF/HTMLãƒªãƒ³ã‚¯ |
| `support_urls_all` | å…¨ç”³è«‹é–¢é€£URL | `|`åŒºåˆ‡ã‚Šã§è¤‡æ•° |
| `error` | å–å¾—ã‚¨ãƒ©ãƒ¼ | ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |

### é›£æ˜“åº¦ã®ç›®å®‰

| é›£æ˜“åº¦ | è£œåŠ©é¡ã®å‚¾å‘ |
|--------|-------------|
| `â˜…â˜†â˜†â˜†â˜†` | æ•°ä¸‡å††ï½50ä¸‡å††ç¨‹åº¦ |
| `â˜…â˜…â˜†â˜†â˜†` | 50ä¸‡å††ï½200ä¸‡å††ç¨‹åº¦ |
| `â˜…â˜…â˜…â˜†â˜†` | 200ä¸‡å††ï½1,000ä¸‡å††ç¨‹åº¦ |
| `â˜…â˜…â˜…â˜…â˜†` | 1,000ä¸‡å††ï½5,000ä¸‡å††ç¨‹åº¦ |
| `â˜…â˜…â˜…â˜…â˜…` | 5,000ä¸‡å††ä»¥ä¸Šï¼ˆå¤§è¦æ¨¡ï¼‰ |

---

## 3. DBãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°

### subsidy_cache ã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°

```sql
INSERT INTO subsidy_cache (
  id,                        -- 'izumi-{policy_id}'
  source,                    -- 'izumi'
  title,                     -- title
  subsidy_max_limit,         -- max_amount ã‚’ãƒ‘ãƒ¼ã‚¹ï¼ˆ30ä¸‡å†† â†’ 300000ï¼‰
  target_area_search,        -- area ã¾ãŸã¯ support_url ã‹ã‚‰æ¨å®š
  detail_json,               -- å…ƒãƒ‡ãƒ¼ã‚¿JSONå…¨ä½“
  cached_at,                 -- ç¾åœ¨æ™‚åˆ»
  expires_at                 -- 30æ—¥å¾Œ
) VALUES (...);
```

### discovery_items ã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°

```sql
INSERT INTO discovery_items (
  id,                        -- UUID
  dedupe_key,                -- 'izumi:{policy_id}'
  source_id,                 -- 'src-izumi'
  source_type,               -- 'scrape'
  title,                     -- title
  url,                       -- detail_url
  detail_url,                -- support_url
  subsidy_amount_max,        -- max_amount ã‚’ãƒ‘ãƒ¼ã‚¹
  stage,                     -- 'raw' (æ¤œè¨¼å‰)
  raw_json                   -- å…ƒãƒ‡ãƒ¼ã‚¿JSONå…¨ä½“
) VALUES (...);
```

---

## æ¨å¥¨ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ•ã‚§ãƒ¼ã‚º1: jGrants APIï¼ˆå„ªå…ˆï¼‰
ç¾åœ¨å®Ÿè£…æ¸ˆã¿ã€‚å›½ã®è£œåŠ©é‡‘ãƒ‡ãƒ¼ã‚¿ã‚’APIã§å–å¾—ã€‚

### ãƒ•ã‚§ãƒ¼ã‚º2: æƒ…å ±ã®æ³‰ï¼ˆPlaywright + Firecrawlï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¥ã‚µãƒ¼ãƒãƒ¼ (AWS Lambda / EC2 / å°‚ç”¨ã‚µãƒ¼ãƒãƒ¼)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. Playwright: æƒ…å ±ã®æ³‰ã«ãƒ­ã‚°ã‚¤ãƒ³                          â”‚
â”‚     â”œâ”€ /search-subsidy?per_page=100 GET                    â”‚
â”‚     â”œâ”€ meta[name="csrf-token"] ã‚’å–å¾—                       â”‚
â”‚     â””â”€ Cookieç¶­æŒ                                           â”‚
â”‚                                                             â”‚
â”‚  2. Playwright: POST /policy/detail ãƒ«ãƒ¼ãƒ—                  â”‚
â”‚     â”œâ”€ form-urlencodedå½¢å¼                                  â”‚
â”‚     â”œâ”€ JSONã® html ã‚’ãƒ‘ãƒ¼ã‚¹                                 â”‚
â”‚     â””â”€ ã€Œæ”¯æ´URLã€ã‚’æŠ½å‡º                                    â”‚
â”‚                                                             â”‚
â”‚  3. Firecrawl: æ”¯æ´URLã®æœ¬æ–‡å–å¾—                            â”‚
â”‚     â”œâ”€ è‡ªæ²»ä½“ã‚µã‚¤ãƒˆã®HTMLå–å¾—                               â”‚
â”‚     â”œâ”€ PDF URLã®å ´åˆã¯ Vision API ã¸                       â”‚
â”‚     â””â”€ è£œåŠ©é‡‘è©³ç´°æƒ…å ±ã‚’æŠ½å‡º                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloudflare Workers API                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  POST /api/admin-ops/izumi/ingest                          â”‚
â”‚  â””â”€ subsidy_cache ã«æ ¼ç´                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãªãœ Playwright + Firecrawl ã®çµ„ã¿åˆã‚ã›ã‹

| å‡¦ç† | ãƒ„ãƒ¼ãƒ« | ç†ç”± |
|------|--------|------|
| ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒ | **Playwright** | Cookieç®¡ç†ãŒå¾—æ„ã€ãƒ•ã‚©ãƒ¼ãƒ æ“ä½œãŒå®‰å®š |
| CSRFå¯¾ç­–ãƒšãƒ¼ã‚¸å–å¾— | **Playwright** | å‹•çš„ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ãŒå¿…è¦ |
| POST APIãƒ«ãƒ¼ãƒ— | **Playwright** | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒãŒå¿…è¦ |
| è‡ªæ²»ä½“ã‚µã‚¤ãƒˆæœ¬æ–‡å–å¾— | **Firecrawl** | é™çš„HTMLå–å¾—ãŒé«˜é€Ÿ |
| PDFè§£æ | **Vision API** | æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿æŠ½å‡º |

### æ³¨æ„ç‚¹

- Firecrawlã¯ã€Œãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ â†’ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒâ†’POSTé€£æ‰“ã€ã¯è‹¦æ‰‹
- Playwrightã¯å¾—æ„ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»Cookieç¶­æŒãŒç°¡å˜ï¼‰
- å½¹å‰²åˆ†æ‹…ãŒé‡è¦

## æ´»ç”¨æ–¹æ³•

1. **ã“ã®CSVã®æ”¯æ´URLã‚’ç›´æ¥Firecrawlã§å–å¾—** â†’ æƒ…å ±ã®æ³‰ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦
2. **source_registryç™»éŒ²**: æ–°ã—ã„sourceã¨ã—ã¦`izumi`ã‚’è¿½åŠ 
3. **subsidy_cacheæ ¼ç´**: æŠ½å‡ºã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’æ­£è¦åŒ–ã—ã¦æ ¼ç´

---

## 4. æ³¨æ„äº‹é …

- URLã¯æ™‚é–“çµŒéã§ç„¡åŠ¹ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- PDFãƒ•ã‚¡ã‚¤ãƒ«ã¯æ›´æ–°ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
- è‡ªæ²»ä½“ã‚µã‚¤ãƒˆã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã«æ³¨æ„
- è©³ç´°ãƒ‡ãƒ¼ã‚¿ã®ç©ºæ¬„ã¯æƒ…å ±ã®æ³‰ã§æœªç™»éŒ²ã®ã‚‚ã®

---

## 5. æ›´æ–°å±¥æ­´

### 2026-01-30
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_3600.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 45,652 ~ 47,451 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_3200.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 41,801 ~ 43,686 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_3400.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 43,688 ~ 45,650 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_2800.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 37,975 ~ 39,925 ã®ç¯„å›²ï¼ˆæ¬ ç•ªè£œå®Œï¼‰
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_3000.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 39,927 ~ 41,790 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_2600.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 34,823 ~ 37,968 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_2400.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 31,825 ~ 34,813 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_2200.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 28,599 ~ 31,818 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_2000.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 27,754 ~ 28,597 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_1800.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 26,078 ~ 27,752 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_1600.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 24,534 ~ 26,065 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_1400.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 22,958 ~ 24,532 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_1000.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 19,865 ~ 22,954 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_800.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 14,488 ~ 17,941 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_600.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 10,095 ~ 14,449 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_400.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 3,700 ~ 10,081 ã®ç¯„å›²
- **è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ **: `details/izumi_detail_200.csv`ï¼ˆ199ä»¶ï¼‰
  - policy_id: 28 ~ 3,699 ã®ç¯„å›²
- **åˆè¨ˆ3,383ä»¶ã®è©³ç´°ãƒ‡ãƒ¼ã‚¿**ã‚’å–å¾—å®Œäº†
- **READMEå¤§å¹…æ›´æ–°**: PDFå•é¡Œã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹åˆ¥æˆ¦ç•¥ã€Firecrawlé™ç•Œã¨ä»£æ›¿æ¡ˆã‚’è¿½è¨˜

### 2026-01-29
- **æœ€çµ‚ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ï¼ˆ16500, 17000, 18000, 18066 â†’ **ç´„17,000ä»¶å®Œäº†**ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ15000, 15500, 16000 â†’ ç´„15,500ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ13500, 14000, 14500 â†’ ç´„14,000ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ12000, 12500, 13000 â†’ ç´„12,500ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ10500, 11000, 11500 â†’ ç´„11,000ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ9000, 9500, 10000 â†’ ç´„9,500ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ8000, 8500 â†’ ç´„8,000ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ6500, 7000, 7500 â†’ ç´„7,000ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ5000, 5500, 6000 â†’ ç´„5,500ä»¶ã«ï¼‰
- è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ4000, 4500 â†’ ç´„4,000ä»¶ã«ï¼‰
- åˆå›ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆç´„3,000ä»¶ï¼‰

---

## 6. è£œåŠ©é‡‘ãƒ‡ãƒ¼ã‚¿æ›´æ–°è¨ˆç”»

### ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®åˆ†é¡

| ã‚½ãƒ¼ã‚¹ | APIæœ‰ç„¡ | æ›´æ–°æ–¹æ³• | å„ªå…ˆåº¦ |
|--------|---------|----------|--------|
| **jGrants** | âœ… ã‚ã‚Š | APIå®šæœŸå–å¾—ï¼ˆè‡ªå‹•åŒ–æ¸ˆã¿ï¼‰ | é«˜ |
| **æƒ…å ±ã®æ³‰** | âŒ ãªã— | Playwright + ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | é«˜ |
| **J-Net21** | âœ… RSS | RSSå®šæœŸå–å¾—ï¼ˆ**å®Ÿè£…æ¸ˆã¿**ï¼‰ | ä¸­ |

### J-Net21 RSSãƒ•ã‚£ãƒ¼ãƒ‰ã«ã¤ã„ã¦

**URL**: `https://j-net21.smrj.go.jp/snavi/support/support.xml`

**ç‰¹å¾´**:
- è£œåŠ©é‡‘ãƒ»åŠ©æˆé‡‘ãƒ»èè³‡ã®æœ€æ–°æƒ…å ±ã‚’RSSã§é…ä¿¡
- éƒ½é“åºœçœŒã‚³ãƒ¼ãƒ‰ä»˜ãï¼ˆ`dc:coverage` ã§ `JP-01`=åŒ—æµ·é“, `JP-13`=æ±äº¬éƒ½ ç­‰ï¼‰
- æ›´æ–°é »åº¦: æ¯æ—¥
- é‹å–¶: ä¸­å°ä¼æ¥­åŸºç›¤æ•´å‚™æ©Ÿæ§‹

**ãƒ‡ãƒ¼ã‚¿ä¾‹**:
```xml
<item>
  <title>ã€èŒ…é‡å¸‚ã€‘è£œåŠ©é‡‘ãƒ»åŠ©æˆé‡‘ï¼šã€Œè£½é€ æ¥­ç­‰ã®åŠ´å‹™ç’°å¢ƒæ”¹å–„...ã€</title>
  <link>https://j-net21.smrj.go.jp/snavi/articles/174825</link>
  <dc:coverage>
    <rdf:value>JP-20</rdf:value>
    <rdf:label>é•·é‡çœŒ</rdf:label>
  </dc:coverage>
</item>
```

**æƒ…å ±ã®æ³‰ã¨ã®é–¢ä¿‚**:
- J-Net21ã¯ã€Œãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã€ã§ã¯ãªãã€Œè£œåŠ©é‡‘æƒ…å ±ãƒãƒ¼ã‚¿ãƒ«ã€
- æƒ…å ±ã®æ³‰ã¨ä¸€éƒ¨é‡è¤‡ã™ã‚‹å¯èƒ½æ€§ã‚ã‚Šï¼ˆåŒã˜è£œåŠ©é‡‘ã‚’åéŒ²ï¼‰
- RSSãªã®ã§è‡ªå‹•å–å¾—ãŒå®¹æ˜“ï¼ˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ä¸è¦ï¼‰
| **è‡ªæ²»ä½“å€‹åˆ¥** | âŒ ãªã— | å€‹åˆ¥å¯¾å¿œï¼ˆæ‰‹å‹•/åŠè‡ªå‹•ï¼‰ | ä½ |

### jGrants ã¨ã®é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  jGrants APIï¼ˆå›½ã®è£œåŠ©é‡‘ï¼‰                                   â”‚
â”‚  â”œâ”€ è‡ªå‹•å–å¾—: âœ… å®Ÿè£…æ¸ˆã¿                                   â”‚
â”‚  â”œâ”€ æ›´æ–°é »åº¦: æ¯æ—¥                                          â”‚
â”‚  â””â”€ subsidy_cache ã«ç›´æ¥æ ¼ç´                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¸€éƒ¨é‡è¤‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ…å ±ã®æ³‰ï¼ˆåœ°æ–¹è‡ªæ²»ä½“ã®è£œåŠ©é‡‘ã‚’å«ã‚€ï¼‰                        â”‚
â”‚  â”œâ”€ è‡ªå‹•å–å¾—: âŒ è¦Playwright                               â”‚
â”‚  â”œâ”€ ä¾¡å€¤: jGrantsã«ç„¡ã„åœ°æ–¹è£œåŠ©é‡‘ã‚’ç‰¹å®šå¯èƒ½                 â”‚
â”‚  â””â”€ é‡è¤‡: jGrantsã¨ä¸€éƒ¨é‡è¤‡ï¼ˆå›½ã®è£œåŠ©é‡‘ï¼‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æƒ…å ±ã®æ³‰ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨æˆ¦ç•¥

1. **jGrantsæœªæ²è¼‰ã®è£œåŠ©é‡‘ã‚’ç‰¹å®š**
   - æƒ…å ±ã®æ³‰ã® `policy_id` ã¨ jGrants ã® ID ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°
   - ãƒãƒƒãƒ”ãƒ³ã‚°ã§ããªã„ã‚‚ã® = jGrantsæœªæ²è¼‰ = ä¾¡å€¤ãŒé«˜ã„

2. **åœ°æ–¹è‡ªæ²»ä½“ç‹¬è‡ªã®è£œåŠ©é‡‘ã‚’ã‚«ãƒãƒ¼**
   - æƒ…å ±ã®æ³‰ã¯å¸‚åŒºç”ºæ‘ãƒ¬ãƒ™ãƒ«ã®è£œåŠ©é‡‘ã‚’å¤šæ•°åéŒ²
   - jGrants ã¯å›½ãƒ»éƒ½é“åºœçœŒãƒ¬ãƒ™ãƒ«ãŒä¸­å¿ƒ

3. **æ–°è¦è£œåŠ©é‡‘ã®æ¤œçŸ¥**
   - æƒ…å ±ã®æ³‰ã® `policy_id` ã¯æ–°è¦è¿½åŠ æ™‚ã«å¢—åŠ 
   - å®šæœŸçš„ã«æœ€æ–° `policy_id` ã‚’ãƒã‚§ãƒƒã‚¯

### ä»Šå¾Œã®å®Ÿè£…è¨ˆç”»

#### Phase 1: ç¾çŠ¶æŠŠæ¡ï¼ˆå®Œäº†ï¼‰
- [x] izumi_support_urls_*.csv: ç´„17,000ä»¶ã®URLåé›†
- [x] izumi_detail_*.csv: 3,383ä»¶ã®è©³ç´°å–å¾—ï¼ˆç¶™ç¶šä¸­ï¼‰

#### Phase 2: å·®åˆ†æ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- [ ] æƒ…å ±ã®æ³‰ã®æœ€æ–° `policy_id` ã‚’å®šæœŸãƒã‚§ãƒƒã‚¯
- [ ] æ–°è¦è¿½åŠ åˆ†ã‚’è‡ªå‹•æ¤œçŸ¥ã—ã¦ã‚¢ãƒ©ãƒ¼ãƒˆ
- [ ] Playwright ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è©³ç´°å–å¾—ã‚’åŠè‡ªå‹•åŒ–

#### Phase 3: jGrants ã¨ã®é‡è¤‡æ’é™¤
- [ ] ã‚¿ã‚¤ãƒˆãƒ«ãƒ»é‡‘é¡ãƒ»å¯¾è±¡åœ°åŸŸã§é¡ä¼¼åº¦ãƒãƒƒãƒãƒ³ã‚°
- [ ] é‡è¤‡ãƒ•ãƒ©ã‚°ã‚’ä»˜ä¸ã—ã¦ç®¡ç†
- [ ] jGrantsæœªæ²è¼‰ã®è£œåŠ©é‡‘ã‚’ `source='izumi-unique'` ã¨ã—ã¦åŒºåˆ¥

#### Phase 4: è‡ªå‹•æ›´æ–°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- [ ] AWS Lambda / EC2 ã§ Playwright å®Ÿè¡Œç’°å¢ƒæ§‹ç¯‰
- [ ] é€±æ¬¡ã§æ–°è¦è£œåŠ©é‡‘ã‚’è‡ªå‹•å–å¾—
- [ ] subsidy_cache ã¸ã®è‡ªå‹•æ ¼ç´

### èª²é¡Œã¨æ¤œè¨äº‹é …ï¼ˆè©³ç´°ï¼‰

#### 1. support_url ã®ç¨®é¡ã¨å¯¾å¿œæ–¹æ³•

| URLãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¾‹ | èª²é¡Œ | å¯¾å¿œç­– |
|-------------|-----|------|--------|
| **è‡ªæ²»ä½“HTML** | `city.xxx.lg.jp/.../page.html` | ãƒšãƒ¼ã‚¸æ§‹é€ ãŒãƒãƒ©ãƒãƒ© | ã‚µã‚¤ãƒˆåˆ¥ãƒ‘ãƒ¼ã‚µãƒ¼ or LLMæŠ½å‡º |
| **PDFç›´ãƒªãƒ³ã‚¯** | `city.xxx.lg.jp/.../file.pdf` | æœŸé™åˆ‡ã‚Œå¾Œã«å†…å®¹å¤‰æ›´ | PDFå®šæœŸãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ + AIè§£æ |
| **PDFå†…ã®æƒ…å ±** | è¦ç¶±ã€ãƒãƒ©ã‚·ç­‰ | å¹´åº¦æ›´æ–°ã§åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚‹ | è¦ªãƒšãƒ¼ã‚¸ã‚’ç›£è¦–ã—ã¦PDF URLæ›´æ–° |

#### 2. PDFå•é¡Œã®è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PDFç›´ãƒªãƒ³ã‚¯ã®å•é¡Œ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ä¾‹: https://city.xxx.lg.jp/files/r6_hojo_youkou.pdf        â”‚
â”‚                                                             â”‚
â”‚  âŒ å•é¡Œç‚¹:                                                  â”‚
â”‚  â”œâ”€ å¹´åº¦æ›´æ–°ã§ r7_hojo_youkou.pdf ã«å¤‰ã‚ã‚‹                  â”‚
â”‚  â”œâ”€ PDFã®ä¸­èº«ã ã‘è¦‹ã¦ã‚‚ã€Œä»Šæœ‰åŠ¹ã‹ã€ä¸æ˜                      â”‚
â”‚  â””â”€ å¤ã„PDF URLãŒãƒªãƒ³ã‚¯åˆ‡ã‚Œã«ãªã‚‹                           â”‚
â”‚                                                             â”‚
â”‚  âœ… å¯¾å¿œç­–:                                                  â”‚
â”‚  â”œâ”€ è¦ªHTMLï¼ˆæ¡ˆå†…ãƒšãƒ¼ã‚¸ï¼‰ã‚’ç›£è¦–                              â”‚
â”‚  â”œâ”€ è¦ªHTMLã‹ã‚‰æœ€æ–°PDF URLã‚’éƒ½åº¦å–å¾—                         â”‚
â”‚  â””â”€ PDFå†…å®¹ + è¦ªHTMLå†…å®¹ ã®ä¸¡æ–¹ã‚’ãƒã‚§ãƒƒã‚¯                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹åˆ¥ã®å–å¾—æˆ¦ç•¥

| ã‚½ãƒ¼ã‚¹ç¨®åˆ¥ | å–å¾—æ–¹æ³• | æ›´æ–°é »åº¦ | ç²¾åº¦ | ã‚³ã‚¹ãƒˆ |
|-----------|----------|----------|------|--------|
| **jGrants API** | REST API | æ¯æ—¥ | â— é«˜ | â—‹ ä½ |
| **RSS/Atom** | ãƒ•ã‚£ãƒ¼ãƒ‰å–å¾— | æ¯æ—¥ | â—‹ ä¸­ | â—‹ ä½ |
| **è‡ªæ²»ä½“HTML** | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | é€±æ¬¡ | â–³ ä¸­ | â–³ ä¸­ |
| **PDF** | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ + AIè§£æ | æœˆæ¬¡ | â–³ ä¸­ | âœ• é«˜ |

#### 4. Firecrawl ã®é™ç•Œã¨ä»£æ›¿æ¡ˆ

| ãƒ„ãƒ¼ãƒ« | å¾—æ„ | è‹¦æ‰‹ | ç”¨é€” |
|--------|------|------|------|
| **Firecrawl** | é™çš„HTMLå–å¾— | èªè¨¼ã€PDFã€æ§‹é€ è§£æ | åˆæœŸãƒ‡ãƒ¼ã‚¿åé›† |
| **Playwright** | èªè¨¼ã€å‹•çš„JSã€ãƒ•ã‚©ãƒ¼ãƒ  | å¤§é‡å‡¦ç†ã®é€Ÿåº¦ | ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆã‚µã‚¤ãƒˆ |
| **Puppeteer** | èªè¨¼ã€å‹•çš„JS | ç’°å¢ƒæ§‹ç¯‰ãŒè¤‡é›‘ | é«˜é€Ÿä¸¦åˆ—å‡¦ç† |
| **Jina Reader** | Markdownå¤‰æ› | æ—¥æœ¬èªã‚µã‚¤ãƒˆ | æœ¬æ–‡æŠ½å‡º |
| **LLM + Vision** | PDFè§£æã€æ§‹é€ ç†è§£ | ã‚³ã‚¹ãƒˆ | PDFå†…å®¹æŠ½å‡º |

#### 5. å®Ÿè£…å„ªå…ˆåº¦ã®æ•´ç†

```
å„ªå…ˆåº¦: é«˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ä½
 
[jGrants API]  [RSS/J-Net21]  [è‡ªæ²»ä½“HTML]  [PDFè§£æ]
     âœ…             âœ…              ğŸš§            ğŸ“‹
   å®Ÿè£…æ¸ˆã¿       å®Ÿè£…æ¸ˆã¿        è¦å®Ÿè£…       å°†æ¥å¯¾å¿œ
```

#### 6. å…·ä½“çš„ãªèª²é¡Œãƒªã‚¹ãƒˆ

| # | èª²é¡Œ | è©³ç´° | å¯¾å¿œæ¡ˆ |
|---|------|------|--------|
| 1 | **ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼** | æƒ…å ±ã®æ³‰ã¯ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ | Playwright + èªè¨¼æƒ…å ±ã®å®‰å…¨ç®¡ç† |
| 2 | **PDFæœŸé™å•é¡Œ** | å¹´åº¦æ›´æ–°ã§URLå¤‰æ›´ | è¦ªHTMLã®ç›£è¦– + å·®åˆ†æ¤œçŸ¥ |
| 3 | **ã‚µã‚¤ãƒˆæ§‹é€ å¤šæ§˜æ€§** | è‡ªæ²»ä½“ã”ã¨ã«HTMLæ§‹é€ ãŒç•°ãªã‚‹ | LLMæŠ½å‡º or ã‚µã‚¤ãƒˆåˆ¥ãƒ‘ãƒ¼ã‚µãƒ¼ |
| 4 | **æ›´æ–°æ¤œçŸ¥** | æ–°è¦è£œåŠ©é‡‘ãƒ»å¤‰æ›´ã®æ¤œçŸ¥ | policy_idç›£è¦– + ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒƒã‚·ãƒ¥ |
| 5 | **ãƒ‡ãƒ¼ã‚¿å“è³ª** | ç©ºæ¬„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è£œå®Œ | æ”¯æ´URLã‹ã‚‰è¿½åŠ æŠ½å‡º |
| 6 | **é‡è¤‡åˆ¤å®š** | jGrantsã¨ã®é¡ä¼¼åº¦ | ã‚¿ã‚¤ãƒˆãƒ«é¡ä¼¼åº¦ + é‡‘é¡ + åœ°åŸŸ |
| 7 | **ã‚³ã‚¹ãƒˆç®¡ç†** | PDFè§£æã®APIè²»ç”¨ | ãƒãƒƒãƒå‡¦ç† + ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨ |

---

## 7. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **è©³ç´°ãƒ‡ãƒ¼ã‚¿ã®ç¶™ç¶šå–å¾—**: policy_id 47,451 ä»¥é™ã®ãƒ‡ãƒ¼ã‚¿ã‚’é †æ¬¡å–å¾—
2. **support_url ã®ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**: HTML/PDF ã®æ¯”ç‡ã¨ç‰¹å¾´ã‚’èª¿æŸ»
3. **jGrantsé‡è¤‡ãƒã‚§ãƒƒã‚¯**: æ—¢å­˜796ä»¶ã¨jGrantsãƒ‡ãƒ¼ã‚¿ã®ç…§åˆ
4. **è¦ªHTMLç›£è¦–ã®ä»•çµ„ã¿**: PDFç›´ãƒªãƒ³ã‚¯ã§ã¯ãªãæ¡ˆå†…ãƒšãƒ¼ã‚¸ã‚’ç›£è¦–
5. **discovery_items ã¸ã®ç™»éŒ²**: æ¤œè¨¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ§‹ç¯‰
6. **è£œåŠ©é‡‘æ¤œç´¢APIå¯¾å¿œ**: `source='izumi'` ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯èƒ½ã«
